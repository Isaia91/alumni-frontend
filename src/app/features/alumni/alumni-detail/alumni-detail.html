<!-- src/app/features/alumni/alumni-detail/alumni-detail.html -->
<div class="container-contactcard">
  <a href="/alumni" class="back-btn" aria-label="Retour">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d="M15 6l-6 6 6 6"/>
    </svg>
    <span>Retour</span>
  </a>

  <div class="alert alert-danger" *ngIf="error">{{ error }}</div>
  <div class="text-center py-4" *ngIf="loading">
    <div class="spinner-border" role="status"></div>
  </div>

  <ng-container *ngIf="!loading && data as a">
    <section class="alumni-detail-section">
      <div class="row justify-content-center align-items-center h-100">
        <div class="col-lg-7 col-md-9">
          <div class="flipcard" (click)="toggleFlip()" [class.flipped]="isFlipped">
            <div class="flipcard-inner">

              <!-- FACE AVANT -->
              <div class="cover">
                <div class="avatar-badge" aria-hidden="true">{{ initials(a) }}</div>

                <div class="cover-content">
                  <h1 class="title">{{ displayName(a) }}</h1>

                  <div class="meta-stack">
                    <span class="line">
                      {{ a.promotionType || 'Formation —' }}
                      <span class="dot">•</span>
                      {{ a.graduationYear || '—' }}
                    </span>
                  </div>
                </div>
              </div>
              <!-- /FACE AVANT -->

              <!-- FACE ARRIÈRE -->
              <div class="card-back">
                <div class="back-header">
                  <div class="avatar-lg" aria-hidden="true">{{ initials(a) }}</div>
                  <div class="id">
                    <h2 class="name">{{ displayName(a) || 'Alumni' }}</h2>
                    <p class="sub">
                      {{ a.promotionType || 'Formation' }}
                      <span class="dot">•</span>
                      {{ a.graduationYear || '—' }}
                    </p>
                  </div>
                </div>

                <div class="back-inner">
                  <div class="info-grid">
                    <div class="info-item">
                      <span class="info-label">Nom</span>
                      <span class="info-value">{{ a.name || '—' }}</span>
                    </div>

                    <div class="info-item">
                      <span class="info-label">Prénom</span>
                      <span class="info-value">{{ a.firstname || '—' }}</span>
                    </div>

                    <div class="info-item" *ngIf="a.position || a.company">
                      <span class="info-label">Poste</span>
                      <span class="info-value">
                        <ng-container *ngIf="a.position">{{ a.position }}</ng-container>
                        <ng-container *ngIf="a.position && a.company"> — </ng-container>
                        <ng-container *ngIf="a.company">{{ a.company }}</ng-container>
                      </span>
                    </div>

                    <div class="info-item" *ngIf="a.city || a.country">
                      <span class="info-label">Localisation</span>
                      <span class="info-value">
                        {{ a.city }} <span *ngIf="a.country">({{ a.country }})</span>
                      </span>
                    </div>

                    <div class="info-item">
                      <span class="info-label">Formation</span>
                      <span class="info-value">{{ a.promotionType || '—' }}</span>
                    </div>

                    <div class="info-item">
                      <span class="info-label">Promotion</span>
                      <span class="info-value">{{ a.graduationYear || '—' }}</span>
                    </div>
                  </div>

                  <div class="actions">
                    <a *ngIf="a.linkedin" class="btn-solid" [href]="a.linkedin" target="_blank" rel="noopener">
                      Voir le profil LinkedIn
                    </a>
                    <a *ngIf="a.email" class="btn-outline" [href]="'mailto:'+a.email">
                      Contacter
                    </a>
                  </div>

                  <div class="story" *ngIf="a.biography">
                    <h3>Parcours</h3>
                    <p [innerText]="a.biography"></p>
                  </div>
                </div>
              </div>
              <!-- /FACE ARRIÈRE -->

            </div>
          </div>
        </div>
      </div>
    </section>
  </ng-container>
</div>

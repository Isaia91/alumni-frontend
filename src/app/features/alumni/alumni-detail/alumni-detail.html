<!-- src/app/features/alumni/alumni-detail/alumni-detail.html -->
<div class="container py-4">
  <a routerLink="/alumni" class="btn btn-link">← Retour</a>

  <div class="alert alert-danger" *ngIf="error">{{ error }}</div>
  <div class="text-center py-4" *ngIf="loading">
    <div class="spinner-border" role="status"></div>
  </div>

  <ng-container *ngIf="!loading && data as a">
    <section class="alumni-detail-section">
      <div class="row justify-content-center">
        <div class="col-lg-7 col-md-9">
          <div class="flipcard">
            <div class="flipcard-inner">

              <!-- FACE AVANT -->
              <div class="cover" [ngClass]="itemClass(a)">
                <!-- Avatar avec initiales -->
                <div class="avatar-badge" aria-hidden="true">{{ initials(a) }}</div>

                <!-- Contenu principal (aligné en bas) -->
                <div class="cover-content">
                  <h1 class="title">{{ displayName(a) }}</h1>

                  <div class="meta-stack">
                    <span class="line">
                      {{ a.promotionType || 'Formation —' }}
                      <span class="dot">•</span>
                      {{ a.graduationYear || '—' }}
                    </span>
                  </div>
                </div>
              </div>
              <!-- /FACE AVANT -->

              <!-- FACE ARRIÈRE -->
              <div class="card-back">
                <div class="back-inner">
                  <dl class="data">
                    <div>
                      <dt>Nom</dt>
                      <dd>{{ a.name || '—' }}</dd>
                    </div>
                    <div>
                      <dt>Prénom</dt>
                      <dd>{{ a.firstname || '—' }}</dd>
                    </div>
                    <div *ngIf="a.position || a.company">
                      <dt>Poste</dt>
                      <dd>
                        <span *ngIf="a.position">{{ a.position }}</span>
                        <span *ngIf="a.position && a.company"> — </span>
                        <span *ngIf="a.company">{{ a.company }}</span>
                      </dd>
                    </div>
                    <div *ngIf="a.city || a.country">
                      <dt>Localisation</dt>
                      <dd>{{ a.city }} <span *ngIf="a.country">({{ a.country }})</span></dd>
                    </div>
                    <div>
                      <dt>Formation</dt>
                      <dd>{{ a.promotionType || '—' }}</dd>
                    </div>
                    <div>
                      <dt>Promotion</dt>
                      <dd>{{ a.graduationYear || '—' }}</dd>
                    </div>
                  </dl>

                  <div class="back-actions">
                    <a *ngIf="a.linkedin" class="btn-solid" [href]="a.linkedin" target="_blank" rel="noopener">
                      Voir le profil LinkedIn
                    </a>
                    <a *ngIf="a.email" class="btn-outline" [href]="'mailto:'+a.email">
                      Contacter
                    </a>
                  </div>

                  <div class="story" *ngIf="a.biography">
                    <h6>Parcours</h6>
                    <p [innerText]="a.biography"></p>
                  </div>
                </div>
              </div>
              <!-- /FACE ARRIÈRE -->

            </div> <!-- /.flipcard-inner -->
          </div> <!-- /.flipcard -->
        </div>
      </div>
    </section>
  </ng-container>
</div>

<!-- src/app/features/alumni/alumni-list/alumni-list.html -->
<div class="alumni-list-wrapper">
  <!-- En-tête -->
  <header class="alumni-header">
    <h1 class="alumni-title">Alumnis</h1>

    <div class="alumni-tools">
      <div class="search-wrap">
        <input
          class="search-input"
          type="text"
          placeholder="Rechercher…"
          [(ngModel)]="search"
          aria-label="Rechercher un alumni"
        />
        <svg class="search-ico" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z"
                fill="none" stroke="currentColor" stroke-width="1.6"
                stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>

      <button class="btn-outline" (click)="load()" [disabled]="loading" aria-label="Recharger la liste">
        Recharger
      </button>
    </div>
  </header>

  <!-- Erreur -->
  <div class="alert alert-danger glass-alert" *ngIf="error">{{ error }}</div>

  <!-- Loading -->
  <div class="center-loading" *ngIf="loading">
    <div class="spinner-border" role="status" aria-hidden="true"></div>
    <div class="mt-2">Chargement…</div>
  </div>

  <!-- Grille -->
  <section class="alumni-grid" *ngIf="!loading">
    <article class="alumni-card" *ngFor="let a of filtered()">
      <!-- Titre + action -->
      <div class="card-top">
        <h2 class="name">{{ displayName(a) }}</h2>
        <a [routerLink]="['/alumni', a.id]" class="btn-solid btn-compact">Voir</a>
      </div>

      <!-- Métas -->
      <div class="meta-line">
        <span>{{ a.promotionType || 'Formation —' }}</span>
        <span class="dot">•</span>
        <span>{{ a.graduationYear || '—' }}</span>
      </div>

      <!-- Poste / entreprise -->
      <p class="role">
        <strong>{{ a.position || '—' }}</strong><br>
        <span *ngIf="a.company">{{ a.company }}</span>
      </p>

      <!-- Localisation -->
      <div class="location">
        {{ a.city }}
        <span *ngIf="a.country">({{ a.country }})</span>
      </div>

      <!-- QR + aide -->
      <div class="qr-wrap">
        <div class="qr-label">QR (ouvrir la carte) :</div>
        <qrcode [qrdata]="qrUrl(a)" [width]="112" [errorCorrectionLevel]="'M'"></qrcode>
        <div class="hint">Scannez pour ouvrir {{ displayName(a) }}</div>
      </div>
    </article>
  </section>
</div>
